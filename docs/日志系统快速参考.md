# æ—¥å¿—ç³»ç»Ÿå¿«é€Ÿå‚è€ƒ ğŸš€

## åŸºæœ¬ä½¿ç”¨

```python
from utils.logger import setup_logger, get_logger
import logging

# åˆå§‹åŒ–ï¼ˆç¨‹åºå¯åŠ¨æ—¶ï¼‰
setup_logger(console_level=logging.INFO)

# è·å–logger
logger = get_logger()

# è®°å½•æ—¥å¿—
logger.debug("è°ƒè¯•ä¿¡æ¯")
logger.info("ä¸€èˆ¬ä¿¡æ¯")
logger.warning("è­¦å‘Š")
logger.error("é”™è¯¯")
logger.exception("å¼‚å¸¸ï¼ˆå«å †æ ˆï¼‰")
```

## å‘½ä»¤è¡Œå·¥å…·

```bash
# åˆ—å‡ºæ‰€æœ‰æ—¥å¿—æ–‡ä»¶
python scripts/view_logs.py list

# æŸ¥çœ‹æœ€æ–°æ—¥å¿—ï¼ˆé»˜è®¤50è¡Œï¼‰
python scripts/view_logs.py view

# æŸ¥çœ‹100è¡Œ
python scripts/view_logs.py view -n 100

# åªçœ‹é”™è¯¯
python scripts/view_logs.py view -l ERROR

# æŸ¥çœ‹ç‰¹å®šæ–‡ä»¶
python scripts/view_logs.py view -f scraper_error.log

# æœç´¢å…³é”®è¯
python scripts/view_logs.py search -k "äº§å“"

# å®æ—¶è·Ÿè¸ª
python scripts/view_logs.py tail
```

## æ—¥å¿—çº§åˆ«

| çº§åˆ« | ç”¨é€” | ç¤ºä¾‹ |
|------|------|------|
| DEBUG | è°ƒè¯•è¯¦æƒ… | `logger.debug(f"å˜é‡å€¼: {var}")` |
| INFO | é‡è¦æ­¥éª¤ | `logger.info("âœ“ çˆ¬å–å®Œæˆ")` |
| WARNING | éœ€è¦æ³¨æ„ | `logger.warning("ç¼ºå°‘ä»·æ ¼")` |
| ERROR | æ“ä½œå¤±è´¥ | `logger.error("ç½‘ç»œé”™è¯¯")` |
| EXCEPTION | å¼‚å¸¸ | `logger.exception("å‘ç”Ÿå¼‚å¸¸")` |

## æ—¥å¿—æ–‡ä»¶

| æ–‡ä»¶ | å†…å®¹ |
|------|------|
| `logs/scraper.log` | æ‰€æœ‰æ—¥å¿— |
| `logs/scraper_20251115.log` | ä»Šæ—¥æ—¥å¿— |
| `logs/scraper_error.log` | åªæœ‰é”™è¯¯ |

## æœ€ä½³å®è·µ

### âœ… æ¨è

```python
# æ·»åŠ ä¸Šä¸‹æ–‡
logger.info(f"[é¡µé¢ {page}] å¼€å§‹çˆ¬å–")

# ç»“æ„åŒ–ä¿¡æ¯
logger.debug(f"äº§å“: {product}")

# å¼‚å¸¸å¤„ç†
try:
    do_something()
except Exception as e:
    logger.exception("æ“ä½œå¤±è´¥")  # è‡ªåŠ¨åŒ…å«å †æ ˆ
```

### âŒ é¿å…

```python
# ä¸è¦è®°å½•æ•æ„Ÿä¿¡æ¯
logger.info(f"å¯†ç : {password}")  # âŒ

# ä¸è¦è¿‡åº¦ä½¿ç”¨DEBUG
for i in range(10000):
    logger.debug(f"å¤„ç† {i}")  # âŒ ç”Ÿäº§ç¯å¢ƒä¼šå¾ˆæ…¢

# ä¸è¦åæ‰å¼‚å¸¸
except Exception:
    pass  # âŒ è‡³å°‘è¦è®°å½•æ—¥å¿—
```

## å¼€å‘vsç”Ÿäº§

```python
# å¼€å‘ç¯å¢ƒ - è¯¦ç»†æ—¥å¿—
setup_logger(console_level=logging.DEBUG)

# ç”Ÿäº§ç¯å¢ƒ - é‡è¦ä¿¡æ¯
setup_logger(console_level=logging.INFO)
```

## æ•…éšœæ’æŸ¥

```bash
# æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯
python scripts/view_logs.py view -l ERROR

# æœç´¢ç‰¹å®šé”™è¯¯
python scripts/view_logs.py search -k "Exception"

# æŸ¥çœ‹ä»Šå¤©çš„æ—¥å¿—
ls -lh logs/scraper_$(date +%Y%m%d).log

# ç»Ÿè®¡é”™è¯¯æ•°é‡
grep -c "ERROR" logs/scraper.log
```

## æ›´å¤šä¿¡æ¯

è¯¦è§ [æ—¥å¿—ç³»ç»Ÿè¯´æ˜.md](æ—¥å¿—ç³»ç»Ÿè¯´æ˜.md)
